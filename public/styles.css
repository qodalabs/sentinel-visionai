/* Theme variables */
:root{
  --bg-deep: #0a0a0a;
  --bg-panel: #151515;
  --bg-elev: #1b1b1b;
  --text: #e7e7e7;
  --muted: #a3a3a3;
  --accent: #00ff7f;
  --accent-2: #00c877;
  --danger: #ff3b3b;
  --border: #242424;
  --shadow: 0 10px 30px rgba(0,0,0,0.5), 0 0 30px rgba(0,255,127,0.06);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  background: radial-gradient(1200px 800px at 10% 10%, rgba(0,255,127,0.06), transparent 40%),
              radial-gradient(900px 600px at 90% 80%, rgba(0,255,127,0.04), transparent 40%),
              var(--bg-deep);
  color:var(--text);
}

/* Generic centered page container (detections page) */
.page-wrap{width:100%; max-width: 1000px; margin: 24px auto; padding: 0 16px}
.panel-title{margin:0 0 14px 0; font-size: 22px; color: var(--muted); text-align:center; letter-spacing:.3px}
.pv-actions{display:flex; gap:12px; flex-wrap:wrap; justify-content:center; margin: 8px 0 8px 0}
.status-ok{margin-top:14px; color: var(--muted); text-align:center; animation: statusPulse 4s ease-in-out infinite}
@keyframes statusPulse{ 0%{ opacity:.85; text-shadow:0 0 0 rgba(0,255,127,0)} 50%{ opacity:1; text-shadow:0 0 10px rgba(0,255,127,.15)} 100%{ opacity:.9; text-shadow:0 0 0 rgba(0,255,127,0)} }

/* Auth pages */
.auth-wrap{display:flex; align-items:center; justify-content:center; min-height:100vh; padding: 20px}
.auth-panel{width:min(420px,92%); padding:18px; transition:.25s box-shadow, .25s transform}
.auth-panel:hover{transform: translateY(-1px)}
.auth-title{display:flex; align-items:center; justify-content:center; gap:10px; margin:0 0 14px 0; font-size:24px; color:var(--text)}
.auth-title ion-icon{color:var(--accent); filter: drop-shadow(0 0 6px rgba(0,255,127,0.5))}
.auth-actions{display:flex; justify-content:center; margin-top:12px}
.auth-msg{margin-top:10px; text-align:center}
.auth-footer{margin-top:10px; text-align:center}
.panel:hover{ box-shadow: 0 14px 36px rgba(0,0,0,0.55), 0 0 36px rgba(0,255,127,0.08) }

/* Auth form spacing */
.auth-panel input{ margin-bottom:12px }
.auth-panel select{ margin-bottom:12px }

/* Button polish */
.btn{ transition: .2s transform, .2s filter, .2s box-shadow }
.btn:hover{ transform: translateY(-1px) }
.btn-primary:hover{ box-shadow: 0 0 0 4px rgba(0,255,127,0.15) }

/* Links on dark background */
a, a:visited{ color: var(--accent); text-decoration: none }
a:hover{ color: #7dffc0; text-decoration: underline }
.auth-footer a, .auth-footer a:visited{ color: var(--accent) }

/* Header */
header{
  display:flex;align-items:center;justify-content:space-between;
  padding:14px 20px; background:linear-gradient(180deg, var(--bg-elev), var(--bg-panel));
  border-bottom:1px solid var(--border);
  position:sticky; top:0; z-index:10; backdrop-filter: blur(6px);
}
header h1{font-size:20px; display:flex; align-items:center; gap:10px; letter-spacing:0.3px}
header h1 ion-icon{color:var(--accent); filter: drop-shadow(0 0 6px rgba(0,255,127,0.5))}
header .user-info{display:flex; gap:14px; align-items:center}
header button{padding:8px 12px; border:1px solid var(--border); background:var(--bg-panel); color:var(--text); border-radius:8px; cursor:pointer}
header button:hover{border-color:var(--accent); box-shadow:0 0 0 3px rgba(0,255,127,0.15)}

/* Layout */
.container{display:flex; min-height:calc(100vh - 60px)}
nav{width:230px; padding:20px; border-right:1px solid var(--border); background:var(--bg-panel)}
nav .nav-greeting{margin-bottom:12px; color:var(--muted); font-weight:600}
nav .nav-greeting span{color:var(--text)}
nav a{display:block; color:var(--text); text-decoration:none; padding:10px 12px; border-radius:8px; margin-bottom:8px; transition: .2s}
nav a:hover{background:var(--bg-elev)}
nav a.active{background: linear-gradient(180deg, rgba(0,255,127,0.12), rgba(0,255,127,0.06)); border:1px solid rgba(0,255,127,0.2)}

main{flex:1; padding:22px; overflow:auto}
.panel{background:var(--bg-panel); border:1px solid var(--border); border-radius:12px; padding:16px; box-shadow: var(--shadow)}
.grid{display:grid; gap:14px}
.grid.cols-2{grid-template-columns: repeat(2, minmax(0,1fr))}
.grid.cols-3{grid-template-columns: repeat(3, minmax(0,1fr))}

/* Buttons */
.btn{padding:10px 14px; border:none; border-radius:10px; cursor:pointer; font-weight:600; letter-spacing:0.3px}
.btn-primary{background:linear-gradient(180deg, var(--accent), var(--accent-2)); color:#001b0e}
.btn-primary:hover{filter:brightness(0.95)}
.btn-danger{background:var(--danger); color:#fff}
.btn-ghost{background:transparent; border:1px solid var(--border); color:var(--text)}

/* Tables */
table{width:100%; border-collapse:separate; border-spacing:0; font-size:14px; overflow:hidden; border-radius:12px; border:1px solid var(--border)}
th,td{padding:10px 12px; border-bottom:1px solid var(--border)}
th{background:var(--bg-elev); text-align:left; color:var(--muted); font-weight:600}
tbody tr:nth-child(even) td{background:rgba(255,255,255,0.01)}
tbody tr:hover td{background:rgba(0,255,127,0.06)}
table thead tr th:first-child{border-top-left-radius:12px}
table thead tr th:last-child{border-top-right-radius:12px}
table tbody tr:last-child td:first-child{border-bottom-left-radius:12px}
table tbody tr:last-child td:last-child{border-bottom-right-radius:12px}

/* Space between search input and tables in panels */
#searchInput{ margin-bottom:12px; }
#userList table{ margin-top:12px; }

/* Action buttons inside tables */
.actionBtn{ padding:8px 12px; border-radius:10px; border:1px solid var(--border); background:var(--bg-elev); color:var(--text); cursor:pointer }
.actionBtn:hover{ border-color:var(--accent); box-shadow:0 0 0 3px rgba(0,255,127,0.12) }
.delete{ background:var(--danger) !important; color:#fff !important; border-color:transparent !important }

/* Alert cards */
.alert-card{display:flex; align-items:center; justify-content:space-between; gap:12px; background:var(--bg-panel); border:1px solid var(--border); border-radius:12px; padding:12px 14px; box-shadow: var(--shadow)}
.alert-meta{display:flex; gap:10px; flex-wrap:wrap; color:var(--muted)}
.pill{padding:4px 8px; border-radius:999px; font-size:12px; border:1px solid rgba(0,255,127,0.25); color:var(--accent); background:rgba(0,255,127,0.08)}

/* Popup */
.popup{position: fixed; top: 16px; right: 16px; background: var(--bg-elev); color: var(--text); border:1px solid var(--border); border-left:3px solid var(--accent); padding: 14px 16px; border-radius: 10px; display:none; z-index: 9999; box-shadow: var(--shadow)}

/* Fullscreen overlay (detections page CCTV form) */
#cctvFormPopup{display:none; position:fixed; inset:0; background:rgba(0,0,0,0.6); backdrop-filter: blur(4px); z-index:1000; align-items:center; justify-content:center}
#cctvFormPopup .panel{width:min(480px,92%);}

/* Inputs */
input, select{width:100%; padding:10px 12px; border-radius:10px; border:1px solid var(--border); background:var(--bg-elev); color:var(--text)}
input:focus, select:focus{outline:none; border-color:var(--accent); box-shadow:0 0 0 3px rgba(0,255,127,0.12)}

/* Themed dropdown */
select{
  appearance:none; -webkit-appearance:none; -moz-appearance:none;
  padding-right:36px; cursor:pointer;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'><path fill='%23a3a3a3' d='M1 1l5 5 5-5'/></svg>");
  background-repeat:no-repeat; background-position: right 12px center; background-size:12px 8px;
}
select:hover{ border-color: rgba(0,255,127,0.35) }
/* Dark dropdown list styling (best-effort across browsers) */
select option{ background: var(--bg-elev); color: var(--text) }
select optgroup{ background: var(--bg-elev); color: var(--muted) }
select option:hover{ background: rgba(0,255,127,0.18) }
select option:checked{ background: linear-gradient(180deg, var(--accent), var(--accent-2)) !important; color:#001b0e }
/* Hide default arrow on legacy Edge/IE */
select::-ms-expand{ display:none }

/* Responsive */
@media(max-width: 900px){
  nav{display:none}
  .grid.cols-3{grid-template-columns:1fr}
  .grid.cols-2{grid-template-columns:1fr}
}

/* Subtle Scrollbar */
::-webkit-scrollbar{height:10px;width:10px}
::-webkit-scrollbar-thumb{background:#2a2a2a;border-radius:10px}
::-webkit-scrollbar-thumb:hover{background:#333}
/* Ambient animated glows */
body::before, body::after{
  content:""; position: fixed; inset:-15%; pointer-events:none; z-index:0;
  background: radial-gradient(40vmax 40vmax at 20% 30%, rgba(0,255,127,.08), transparent 60%),
              radial-gradient(30vmax 30vmax at 80% 70%, rgba(0,255,127,.05), transparent 60%);
  animation: driftA 22s linear infinite;
}
body::after{ animation: driftB 28s linear infinite; mix-blend-mode: screen; opacity:.7 }
@keyframes driftA{ 0%{ transform: translate3d(0,0,0) rotate(0deg)} 50%{ transform: translate3d(1.5%, -1.5%,0) rotate(10deg)} 100%{ transform: translate3d(0,0,0) rotate(0deg)} }
@keyframes driftB{ 0%{ transform: translate3d(0,0,0) rotate(0deg)} 50%{ transform: translate3d(-1%, 1.5%,0) rotate(-8deg)} 100%{ transform: translate3d(0,0,0) rotate(0deg)} }
